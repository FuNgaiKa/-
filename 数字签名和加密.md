https://bbs.huaweicloud.com/blogs/detail/289072

小林：被中间人攻击怎么办？



把你爸爸的「个人信息 + 公钥 + 数字签名」打包成一个**数字证书，也就是说这个数字证书包含你爸爸的公钥。**



CA 签发证书的过程，如上图左边部分：

- 首先 CA 会把持有者的公钥、用途、颁发者、有效时间等信息打成一个包，然后对这些信息进行 Hash 计算，得到一个 Hash 值；
- 然后 CA 会使用自己的私钥将该 Hash 值加密，生成 Certificate Signature，也就是 CA 对证书做了签名；
- 最后将 Certificate Signature 添加在文件证书上，形成数字证书；

客户端校验服务端的数字证书的过程，如上图右边部分：

- 首先客户端会使用同样的 Hash 算法获取该证书的 Hash 值 H1；

- 通常浏览器和操作系统中集成了 CA 的公钥信息，浏览器收到证书后可以使用 CA 的公钥解密 Certificate Signature 内容，得到一个 Hash 值 H2 ；

- 最后比较 H1 和 H2，如果值相同，则为可信赖的证书，否则则认为证书不可信。

  

![img](https://img-blog.csdnimg.cn/img_convert/e65e71673daa7adb4394aa851ba9ff21.png)



数字证书：

三者的区别请听我一 一道来
**签名哈希算法**
当用公钥解密出数据后，通过签名哈希算法计算出传输内容的hash值，同时比对随内容一起传过来的hash值，确定传输内容是否被**篡改**

**签名算法**
传递信息的hash指纹是加密（**公私钥**）后随内容一起传递的，这为了防止不会好意的人同时修改信息内容和其中的hash值，达到相匹配，让签名哈希算法步骤失去真正作用。所以hash值发出前都需要加密，这是为了数据传输更安全上的一道保险锁。

签名算法就是为了解密被加密的传递信息的hash指纹

**指纹算法**
简单来讲就是验证收到的数字证书**本身有没有问题**。
通过指纹算法计算证书hash值（指纹），和证书中给出的指纹比对，确认证书正确。



**为什么非对称加密比对称加密要慢？**



**似乎有连锁证书加密**

